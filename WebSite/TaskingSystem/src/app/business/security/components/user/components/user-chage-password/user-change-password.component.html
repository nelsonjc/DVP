<div *ngIf="isModalOpen" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg p-6 w-96">
        <h2 class="text-2xl font-semibold text-center mb-4">Cambiar Contraseña</h2>

        <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
            <div class="mb-4">
                <label for="newPassword" class="block text-sm font-medium text-gray-700 text-left">Nueva Contraseña:</label>
                <input type="password" id="newPassword" formControlName="newPassword"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-300" />
                <div
                    *ngIf="changePasswordForm.get('newPassword')?.invalid && (changePasswordForm.get('newPassword')?.touched || changePasswordForm.get('newPassword')?.dirty)"
                    class="text-red-500 text-sm mt-1">
                    <small>La nueva contraseña es requerida y debe tener al menos 6 caracteres.</small>
                </div>
            </div>

            <div class="mb-4">
                <label for="confirmPassword" class="block text-sm font-medium text-gray-700 text-left">Confirmar Nueva Contraseña:</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-300" />
                <div
                    *ngIf="changePasswordForm.get('confirmPassword')?.touched || changePasswordForm.get('confirmPassword')?.dirty"
                    class="text-red-500 text-sm mt-1">
                    <small>Las contraseñas no coinciden.</small>
                </div>
            </div>

            <div class="flex justify-end space-x-2">
                <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-700"
                    (click)="closeModal()">Cerrar</button>
                <button type="submit" [disabled]="changePasswordForm.invalid"
                    class="px-4 py-2 bg-blue-500 text-white rounded-md shadow-sm hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300">Enviar</button>
            </div>
        </form>

        <div *ngIf="errorMessage" class="text-red-500 text-sm text-center mt-4">{{ errorMessage }}</div>
        <div *ngIf="successMessage" class="text-green-500 text-sm text-center mt-4">{{ successMessage }}</div>
    </div>
</div>
